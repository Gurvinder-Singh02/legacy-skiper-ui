---
title: Theme Toggle Animations
description: Animations when your theme Changes cool right ?
component: true
links:
---

<ComponentPreview
  name="theme-toggle-animation-demo"
  className="[&_.preview>[data-orientation=vertical]]:sm:max-w-[70%]"
  description="All variations"
/>


## References

<Citations>
  <p className="font-medium text-primary">Read Docs to more</p>
  <CitationList>
    <CitationItem>
      <CitationLink
        href="https://developer.chrome.com/docs/web-platform/view-transitions/"
        target="_blank"
        rel="noopener noreferrer"
      >
        View Transition API
      </CitationLink>
    </CitationItem>
  </CitationList>
</Citations>

## Also

This component is inspired by and adapted from the open source [theme-toggle-effect](https://github.com/rudrodip/theme-toggle-effect) project. We've customized it to fit our design system while maintaining the original aesthetic and functionality.

## Installation


<Tabs defaultValue="cli">

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
  <TabsTrigger value="basic">From Scratch</TabsTrigger>
</TabsList>

<TabsContent value="cli">

<Steps>

<Step>
`components/ui/theme-toggle-button.tsx`
```bash
  npx shadcn@latest add "http://skiper-ui.com/registry/theme-toggle-button.json"
```
This will add 4 files to components/ui
</Step>
<Step>
wrap your rootLayout `layout.tsx`
```bash
import { ThemeProvider } from "@/components/ui/theme-provider"

export default function RootLayout({ children }: RootLayoutProps) {
  return (
    <>
      <html lang="en" suppressHydrationWarning>
        <head />
        <body>
          <ThemeProvider
            attribute="class"
            defaultTheme="system"
            enableSystem
          >
            {children}
          </ThemeProvider>
        </body>
      </html>
    </>
  )
}

```
</Step>

<Step>
Use the toggle button anywhere 
```bash
import ThemeToggleButton from "@components/ui/theme-toggle-button"
```
```bash
<ThemeToggleButton />
```


</Step>

</Steps>

</TabsContent>

<TabsContent value="basic">

<Steps>

<Step>
Install next-themes :

```bash
    pnpm install next-themes
```
</Step>
<Step>
Create a theme provider  
```bash
"use client"

import * as React from "react"
import { ThemeProvider as NextThemesProvider } from "next-themes"

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}

```
</Step>

<Step> Wrap your root layout `app/layout.tsx` </Step>

```bash
import { ThemeProvider } from "@/components/theme-provider"

export default function RootLayout({ children }: RootLayoutProps) {
  return (
    <>
      <html lang="en" suppressHydrationWarning>
        <head />
        <body>
          <ThemeProvider
            attribute="class"
            defaultTheme="system"
            enableSystem
          >
            {children}
          </ThemeProvider>
        </body>
      </html>
    </>
  )
}

```

<Step> Update `global.css` </Step>

```css

/* view transition api */
.page-transition {
  opacity: 0;
  transition: opacity 0.7s ease;
}

.page-transition.active {
  opacity: 1;
}

@supports (view-transition-name: none) {
  .page-transition {
    transition: none;
  }

  ::view-transition-group(root) {
    animation-duration: 0.7s;
    animation-timing-function: linear(
      0 0%, 0.2342 12.49%, 0.4374 24.99%,
      0.6093 37.49%, 0.6835 43.74%,
      0.7499 49.99%, 0.8086 56.25%,
      0.8593 62.5%, 0.9023 68.75%, 0.9375 75%,
      0.9648 81.25%, 0.9844 87.5%,
      0.9961 93.75%, 1 100%
    );
  }

  ::view-transition-new(root) {
    mask: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><defs><filter id="blur"><feGaussianBlur stdDeviation="2"/></filter></defs><circle cx="0" cy="0" r="18" fill="white" filter="url(%23blur)"/></svg>') top left / 0 no-repeat;
    mask-origin: content-box;
    animation: scale 1s;
    transform-origin: top left;
  }

  ::view-transition-old(root),
  .dark::view-transition-old(root) {
    animation: scale 1s;
    transform-origin: top left;
    z-index: -1;
  }

  @keyframes scale {
    to {
      mask-size: 350vmax;
    }
  }
}

```

<Step>Add toggle button `components/ui/theme-toggle-button.tsx` </Step>

```bash
"use client";

import { MoonIcon, SunIcon } from "lucide-react";
import { useTheme } from "next-themes";
import { Button } from "@/components/ui/button";

export default function ThemeToggler() {
  const { theme, setTheme } = useTheme();

  const switchTheme: () => void = () => {
    switch (theme) {
      case "light":
        setTheme("dark");
        break;
      case "dark":
        setTheme("light");
        break;
      default:
        break;
    }
  };

  const toggleTheme = () => {
    //@ts-ignore
    if (!document.startViewTransition) switchTheme();

    //@ts-ignore
    document.startViewTransition(switchTheme);
  };

  return (
    <Button
      onClick={toggleTheme}
      variant="ghost"
      size="icon"
      className="rounded-full"
    >
      <SunIcon className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
      <MoonIcon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
      <span className="sr-only">Toggle theme</span>
    </Button>
  );
}

```

</Steps>

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>
Install next-themes :

```bash
    pnpm install next-themes
```
</Step>
<Step>
Create a theme provider `theme/theme-provider.tsx`
```bash
"use client"

import * as React from "react"
import { ThemeProvider as NextThemesProvider } from "next-themes"

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}

```
</Step>

<Step> Wrap your root layout `app/layout.tsx` </Step>

```bash
import { ThemeProvider } from "@/components/theme-provider"

export default function RootLayout({ children }: RootLayoutProps) {
  return (
    <>
      <html lang="en" suppressHydrationWarning>
        <head />
        <body>
          <ThemeProvider
            attribute="class"
            defaultTheme="system"
            enableSystem
          >
            {children}
          </ThemeProvider>
        </body>
      </html>
    </>
  )
}

```

<Step> Create `theme/theme-animations.ts`</Step>

<ComponentSource name="theme-animations" />

<Step>Add toggle button `components/ui/theme-toggle-button.tsx` </Step>

<ComponentSource name="theme-toggle-button" />

<Step>Use toggle button whereever you want </Step>

<Step>
`components/ui/toggle-theme-demo.tsx`
```bash
import ThemeToggleButton from "../ui/theme-toggle-button"
```
```bash

  <div className="h-full w-full flex items-center justify-center ">

    <ThemeToggleButton showLabel />
    <ThemeToggleButton showLabel variant="circle-blur" start="top-right" />
    <ThemeToggleButton showLabel variant="circle-blur" start="bottom-left" />
    <ThemeToggleButton showLabel variant="circle-blur" start="bottom-right" />

    <ThemeToggleButton showLabel variant="circle" start="top-left" />
    <ThemeToggleButton showLabel variant="circle" start="top-right" />
    <ThemeToggleButton showLabel variant="circle" start="bottom-left" />
    <ThemeToggleButton showLabel variant="circle" start="bottom-right" />

    <ThemeToggleButton showLabel variant="circle" start="center" />

  </div>
 
```


</Step>

</Steps>

</TabsContent>


</Tabs>

## Props 
| Prop   | Description                                       | Type           | Default Value |
|--------|---------------------------------------------------|----------------|---------------|
| `variant` | Specifies the variant type. E.g., 'circle', 'circle-blur' , 'gif' | `polygon`       | `circle-blur`     |
| `start`  | Sets the starting point (e.g., top left, center) | `string` | `top-left`       |
| `url`    | The URL associated with the link only for gif variant.    | `string`       | `""`          |
| `showLabel`    | only for dev purpose to check the props set    | `boolean`       | `false`          |

## Here's the fun part
you can also add transparent gif's [Find some Cool Gif's here](https://giphy.com/search/dance-stickers/)
```bash
<ThemeToggleButton variant="gif" url="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMWI1ZmNvMGZyemhpN3VsdWp4azYzcWUxcXIzNGF0enp0eW1ybjF0ZyZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/Fa6uUw8jgJHFVS6x1t/giphy.gif" />
<ThemeToggleButton variant="gif" url="https://media.giphy.com/media/ArfrRmFCzYXsC6etQX/giphy.gif?cid=ecf05e47kn81xmnuc9vd5g6p5xyjt14zzd3dzwso6iwgpvy3&ep=v1_stickers_search&rid=giphy.gif&ct=s"/>
```